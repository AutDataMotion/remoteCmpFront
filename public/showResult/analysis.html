<!doctype html>
<meta charset="utf-8">
<title>RSCUP2019</title>
<link href="css/style.css" rel="stylesheet" type="text/css" media="all" />
<script src="js/echarts.min.js" charset="utf-8"></script>

<!-- <script src="js/china.js"></script> -->
<!-- <script src="js/echarts-map-china.js"></script> -->
 <script src="js/jquery.min.js"></script>
<script src="js/unslider.min.js"></script>

<!--<link rel="stylesheet" type="text/css" href="partialSlider/partialviewslider.css">-->
<!--<script src="partialSlider/partialviewslider.js"></script>-->

<style>
  .banner { position: relative; overflow: auto; text-align: center;}
  .banner li { list-style: none; }
  .banner ul li { float: left; }

  .teamRow{
    border-style: solid;
    border-width: 2px;
    border-color: transparent;
  }
  .teamRowSelect{
    border-style: solid;
    border-width: 2px;
    border-color: #1ce21b;
  }
  .teamRow:hover {border-color: #03e2d9;}

</style>
<body>
<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/echarts.min.js"></script>
<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts-gl/echarts-gl.min.js"></script>
<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts-stat/ecStat.min.js"></script>
<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/extension/dataTool.min.js"></script>
<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/china.js"></script>
<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/world.js"></script>
<script type="text/javascript" src="https://api.map.baidu.com/api?v=2.0&ak=xj3rvBdv5I2PnUz43aUhm9It&__ec_v__=20190126"></script>
<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/extension/bmap.min.js"></script>
<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/simplex.js"></script>

  <div class="wpbox">
    <div class="bnt">
      <div class="topbnt_left fl" style="width:33%;text-align: left;margin-top: 1.2%;margin-left: 5%;color: lightcyan">
        <span style="font-size: 75%">主办：国家自然科学基金委信息科学部</span> <br/>
        <span style="font-size: 75%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;空间信息网络重大研究计划指导专家组</span>
      </div>
      <h1 class="tith1 fl">遥感图像稀疏表征与智能分析竞赛</h1>
      <div class=" fr topbnt_right">
        <ul>
          <li><a href="#">得分</a></li>
          <li><a href="#">队伍名称</a></li>
          <li><a href="#">排名</a></li>
        </ul>
      </div>
    </div>
    <!-- bnt end -->
    <div class="left1">
      <div class="aleftboxttop">
        <h2 class="tith2">参赛队伍分布</h2>
        <div class="lefttoday_number" id="mapcontainer"></div>
        <!-- lefttoday_number end -->

      </div>

      <div class="aleftboxtmidd">
        <h2 class="tith2">参赛人数统计</h2>
        <div class="lefttoday_tit height ht">
          <!-- <p class="fl">状态：已调节</p> -->
          <p class="fr">时间段：2019-06-01 至 2019-08-10</p>
        </div>
        <div id="aleftboxtmidd" class="aleftboxtmiddcont"></div>
      </div>
      <div class="aleftboxtbott">
        <h2 class="tith2">各赛题队伍统计</h2>
        <div class="lefttoday_tit height">
          <!-- <p class="fl">状态：已调节</p> -->
          <p class="fr">时间段：2019-06-01 至 2019-08-10</p>
        </div>
        <div id="aleftboxtbott" class="aleftboxtbott_cont"></div>
      </div>
    </div>
    <!--  left1 end -->
    <div class="mrbox">
      <div class="mrbox_topmidd" style="width: 69%;">
        <div class="amiddboxttop">
          <!-- <h2 class="tith2 pt1">实时效果展示</h2> -->
          <h2
            style="text-align: center; width: 100%; font-size: 90%; font-weight: normal;letter-spacing:2px; font-weight:  normal; overflow: hidden;">
            实时效果展示</h2>
          <div class="amiddboxttop_map" style="">
            <div id="imgSliderDiv" class="banner">
              <ul id="imgSliderUl">
              </ul>
            </div>

          </div>
        </div>
        <div class="amiddboxttop_theme">
          <table style="width: 100%">
            <tr>
              <th id="tabTheme1" class="tabSelect">场景分类</th>
              <th id="tabTheme2" class="tabNormal">目标检测</th>
              <th id="tabTheme3"  class="tabNormal">语义分割</th>
              <th id="tabTheme4"  class="tabNormal">变化检测</th>
              <th id="tabTheme5"  class="tabNormal">视频跟踪</th>
            </tr>
          </table>
        </div>
        <!--  amiddboxttop end-->
        <div class="amidd_bott">
          <div class="amiddboxtbott1 fl">
            <h2 class="tith2 pt1">当前赛题报名与提交量变化</h2>
            <div id="amiddboxtbott1" class="amiddboxtbott1content"></div>
          </div>

          <div class="amiddboxtbott2 fl">
            <h2 class="tith2 pt1">当前赛题每日最高成绩变化</h2>
            <div id="amiddboxtbott2" class="amiddboxtbott2content"></div>
          </div>
        </div>
        <!-- amidd_bott end -->
      </div>
      <!-- mrbox_top end -->
      <div class="mrbox_top_right">
        <div class="arightboxtop">
          <div class="left2_table">
            <ul id="tableTeam" style="margin-top: 10%">

            </ul>
          </div>
        </div>
        <div class="arightboxbott">
          <h2 class="tith2 ">当前队伍历史提交成绩</h2>
          <div class="lefttoday_tit">
            <!-- <p class="fl">状态：已调节</p> -->
            <p class='fl'>时间段：2019-07-01至2019-08-10</p>
            <!-- <p class="fr">时间：2019-06-01至2019-08-10</p> -->
          </div>
          <div id="arightboxbott" class="arightboxbottcont" style=""></div>
        </div>
      </div>
      <!-- mrbox_top_right end -->
    </div>

  </div>
  <!-- </div> -->

 <script type="text/javascript">
   var themeInfos = [
     "", // 从第一个开始
     "场景分类",
     "目标检测",
     "语义分割",
     "变化检测",
     "视频跟踪",
   ];
   var orgTeamMemeber = [];
   var chartDataMemeber = [];
   var chartDataTeam = [];
   var urlTeamMemeber = "http://rscup.bjxintong.com.cn:8000/theme/count?competition_id=";

   function getMockUrl(path){
     // return "https://mock.yonyoucloud.com/mock/1642/result/"+path;
     return "http://119.3.202.35:8000/result/"+path;
   }

   for (var i=1;i<=5; i++){
     $.ajax({
       type: "get",
       url: urlTeamMemeber+i,
       dataType: 'json',
       async: false,//使用同步的方式,true为异步方式
       data: {},
       success: function (data) {
         console.log(data);
         orgTeamMemeber[i] = data.data;

       },
       error: function (xhr, type) {
         console.log('xhr',xhr,'type', type);
         alert('通信失败，请联系管理员');
       },
     });
   }
   console.log("orgTeamMemeber", orgTeamMemeber);
   //
   for (var i=1;i<=5; i++){
     chartDataMemeber.push({value:orgTeamMemeber[i].user_number, name:themeInfos[i]+'\n '+orgTeamMemeber[i].user_number+'人'});
     chartDataTeam[5-i] = orgTeamMemeber[i].team_number;
   }

   console.log("chartDataMemeber", chartDataMemeber, "chartDataTeam", chartDataTeam)


 </script>

  <script type="text/javascript">
    // 参赛人数统计
    var myChartMemeber = echarts.init(document.getElementById('aleftboxtmidd'));
    optionMemeber = {
      color: ['#76c4bf', '#e5ffc7', '#508097', '#4d72d9', '#76a4be'],
      backgroundColor: 'rgba(1,202,217,.2)',
      grid: {
        left: 10,
        right: 40,
        top: 20,
        bottom: 0,
        containLabel: true
      },
      calculable: true,
      series: [

        {
          name: '面积模式',
          type: 'pie',
          radius: [5, 60],
          center: ['50%', '55%'],
          roseType: 'area',
          label: {normal:{color: '#f3cbfb'}},
          data: chartDataMemeber
        }
      ]
    };
    myChartMemeber.setOption(optionMemeber);
  </script>
  <script type="text/javascript">
    // 各赛题队伍统计
    var myChart = echarts.init(document.getElementById('aleftboxtbott'));
    option = {
      color: ['#7ecef4'],
      backgroundColor: 'rgba(1,202,217,.2)',
      grid: {
        left: 10,
        right: 20,
        top: 13,
        bottom: 20,
        containLabel: true
      },

      xAxis: {
        name: '队伍数量',
        nameLocation: 'middle',
        nameGap: 25,
        nameTextStyle: {color: '#ffff', },
        type: 'value',
        axisLine: {
          lineStyle: {
            color: 'rgba(255,255,255,.2)'
          }
        },
        splitLine: {
          show: true,
          lineStyle: {
            color: 'rgba(255,255,255,0)'
          }
        },
        axisLabel: {
          show: true,
          // color: "rgba(255,255,255,0)",
          color: '#75fcfd',
          formatter: '{value}'
        },
        boundaryGap: [0, 0.01]
      },
      yAxis: {
        name: '赛题',
        type: 'category',
        axisLine: {
          lineStyle: {
            color: 'rgba(255,255,255,.5)'
          }
        },
        splitLine: {
          lineStyle: {
            color: 'rgba(255,255,255,.1)'
          }
        },
        axisLabel: {
          color: "rgba(255,255,255, 0.8)",
          margain: 10
        },
        data: ['视频跟踪', '变化检测', '语义分割', '目标检测', '场景分类', ]
      },
      series: [
        {
          name: '2011年',
          type: 'bar',
          barWidth: 30,
          itemStyle: {
            normal: {
              color: new echarts.graphic.LinearGradient(
                1, 0, 0, 1,
                [
                  { offset: 0, color: 'rgba(230,253,139,.7)' },
                  { offset: 1, color: 'rgba(41,220,205,.7)' }
                ]
              )
            }
          },
          label: {normal:{show: true, position: 'insideRight', color: '#0600b8'}},
          data: chartDataTeam,
        }
      ]
    };
    myChart.setOption(option);
  </script>

  <script type="text/javascript">
    var curThemeId = 1;
    var preThemeId = 1;
    var curDivId = "tabTheme"+curThemeId;
    var preDivId = "tabTheme"+preThemeId;
    function changeThemeTabStyle(themeId){
      preThemeId = curThemeId;
      curThemeId = themeId;
      curDivId = "#tabTheme"+curThemeId;
      preDivId = "#tabTheme"+preThemeId;
      $(preDivId).removeClass("tabSelect");
      $(preDivId).addClass("tabNormal");
      $(curDivId).removeClass("tabNormal");
      $(curDivId).addClass("tabSelect");
    }

    $(function () {
      // theme tab
      $('#tabTheme1').click(function () {
        console.log("tabTheme1")
        changeThemeTabStyle(1);
        refreshChartMain();
      })
      $('#tabTheme2').click(function () {
        console.log("tabTheme2")
        changeThemeTabStyle(2);
        refreshChartMain();
      })
      $('#tabTheme3').click(function () {
        console.log("tabTheme3");
        changeThemeTabStyle(3);
        refreshChartMain();
      })
      $('#tabTheme4').click(function () {
        console.log("tabTheme4");
        changeThemeTabStyle(4);
        refreshChartMain();
      })
      $('#tabTheme5').click(function () {
        console.log("tabTheme5");
        changeThemeTabStyle(5);
        refreshChartMain();
      })

      var dataChartTopScore = {
        dateList:[],
        scoreList:[],
      };
      function freshChartTopScore(){
        $.ajax({
          type: "get",
          url: getMockUrl("topScoreDaily?competition_id=")+curThemeId,
          data: {},
          dataType: 'json',  //【这里要小心啊，不要用jsonp，一定是json】
          async: false,//使用同步的方式,true为异步方式
          crossDomain: true,  //【这个很重要，一定要加】
          success: function (result) {
            var orgData = result.data.dailyDatas;
            dataChartTopScore.dateList = [];
            dataChartTopScore.scoreList = [];
            for (var i=0; i<orgData.length; i++){
              dataChartTopScore.dateList.push(orgData[i].date);
              dataChartTopScore.scoreList.push(orgData[i].score);
            }
          },
          error: function (result) {
            console.log(result);
            alert(result);
          },
          header: {
            'Content-Type': 'application/json',
            'X-Requested-With': 'XMLHttpRequest',
            'Cache-Control': 'no-cache,no-store',
          },
        });

        optionTopScore.xAxis.data = dataChartTopScore.dateList;
        optionTopScore.series[0].data = dataChartTopScore.scoreList;
        myChartTopScore.setOption(optionTopScore);
      }

      var dataChartRegistAndSubmit = {
        dateList:[],
        registCntList:[],
        submitCntList:[],
        submitDayCntList:[],
      };
      function freshChartRegistAndSubmit(){
        $.ajax({
          type: "get",
          url: getMockUrl("registAndSubmitDaily?competition_id=")+curThemeId,
          data: {},
          dataType: 'json',  //【这里要小心啊，不要用jsonp，一定是json】
          async: false,//使用同步的方式,true为异步方式
          crossDomain: true,  //【这个很重要，一定要加】
          success: function (result) {
            var orgData = result.data.dailyDatas;

            dataChartRegistAndSubmit.dateList = [];
            dataChartRegistAndSubmit.registCntList = [];
            dataChartRegistAndSubmit.submitCntList = [];
            dataChartRegistAndSubmit.submitDayCntList=[];

            for (var i=0; i<orgData.length; i++){
              dataChartRegistAndSubmit.dateList.push(orgData[i].date);
              dataChartRegistAndSubmit.registCntList.push(orgData[i].registCnt);
              dataChartRegistAndSubmit.submitCntList.push(orgData[i].submitCnt);
              dataChartRegistAndSubmit.submitDayCntList.push(orgData[i].submitDayCnt);
            }
            console.log("dataChartRegistAndSubmit", dataChartRegistAndSubmit);
          },
          error: function (result) {
            console.log(result);
            alert(result);
          },
          header: {
            'Content-Type': 'application/json',
            'X-Requested-With': 'XMLHttpRequest',
            'Cache-Control': 'no-cache,no-store',
          },
        });

        optionRegistAndSubmit.xAxis[0].data = dataChartRegistAndSubmit.dateList;
        optionRegistAndSubmit.series[0].data = dataChartRegistAndSubmit.registCntList;
        optionRegistAndSubmit.series[1].data = dataChartRegistAndSubmit.submitCntList;
        optionRegistAndSubmit.series[2].data = dataChartRegistAndSubmit.submitDayCntList;
        myChartRegistAndSubmit.setOption(optionRegistAndSubmit);
      }

      var dataTableTeams = {};
      var curSelectTeamId = 1008;
      function freshTableTeam() {
        $.ajax({
          type: "get",
          url: getMockUrl("themeTeams?competition_id=")+curThemeId,
          data: {},
          dataType: 'json',  //【不要用jsonp，一定是json】
          async: false,//使用同步的方式,true为异步方式
          crossDomain: true,  //【这个很重要，一定要加】
          success: function (result) {
            dataTableTeams = result.data.results;
            var tableHtml = '';
            for (var i=0; i<dataTableTeams.length; i++){
              var bg = '';
              if (i%2==1){
                bg='bg';
              }
              tableHtml += createTeamTableRow(i+1,dataTableTeams[i].teamId, dataTableTeams[i].teamName, dataTableTeams[i].score.toFixed(4),bg );
            }
            $('#tableTeam').html(tableHtml);
            // 记录第一支队伍id
            curSelectTeamId = dataTableTeams[0].teamId;

          },
          error: function (result) {
            alert(result);
          },
          header: {
            'Content-Type': 'application/json',
            'X-Requested-With': 'XMLHttpRequest',
            'Cache-Control': 'no-cache,no-store',
          },
        });
      }

      var teamDailyScore = {
        dateList:[],
        scoreList:[],
      };
      function freshTeamScore(teamId) {
        $.ajax({
          type: "get",
          url: getMockUrl("teamScoreDaily?teamId=")+teamId,
          data: {},
          dataType: 'json',  //【这里要小心啊，不要用jsonp，一定是json】
          // async: false,//使用同步的方式,true为异步方式
          crossDomain: true,  //【这个很重要，一定要加】
          success: function (result) {
            var orgData = result.data.dailyDatas;
            teamDailyScore.dateList = [];
            teamDailyScore.scoreList = [];
            for (var i=0; i<orgData.length; i++){
              teamDailyScore.dateList.push(orgData[i].date);
              teamDailyScore.scoreList.push(orgData[i].score);
            }

            optionTeamScore.xAxis.data = teamDailyScore.dateList;
            optionTeamScore.series[0].data = teamDailyScore.scoreList;
            myChartTeamScore.setOption(optionTeamScore);
          },
          error: function (result) {
            console.log(result);
            alert(result);
          },
          header: {
            'Content-Type': 'application/json',
            'X-Requested-With': 'XMLHttpRequest',
            'Cache-Control': 'no-cache,no-store',
          },
        });
      }

      var unsliderObj = null;
      function freshImgSlider(teamId){
        $.ajax({
          type: "get",
          url: getMockUrl('teamResultDetail?teamId=')+teamId,
          data: {},
          dataType: 'json',  //【这里要小心啊，不要用jsonp，一定是json】
          // async: false,//使用同步的方式,true为异步方式
          crossDomain: true,  //【这个很重要，一定要加】
          success: function (result) {

            // 先停止
            if(unsliderObj!=null){
              unsliderObj.data('unslider').stop();
            }
            // 自适应大小处理
            var widthDiv = $(".amiddboxttop_map").width();
            var heightDiv = $(".amiddboxttop_map").height();
            console.log("sliderDiv w h", widthDiv, heightDiv);

            var imgList = result.data.imageInfo;
            var sliderHtml = '';
            for(var i=0; i<imgList.length; i++){
              sliderHtml += createImgSliderRow(imgList[i].imgUrl, widthDiv, heightDiv);
            }
            $('#imgSliderUl').html(sliderHtml);
            var widthHeightObj = {width:widthDiv+'px', height:heightDiv+'px'};
            $('#imgSliderDiv').css(widthHeightObj);
            $('#imgSliderDiv ul').css(widthHeightObj);
            $("#imgSliderDiv ul li").each(function () {
              $(this).css({width:widthDiv+'px', height:heightDiv+'px'});
            });

            unsliderObj = $('#imgSliderDiv').unslider({speed:1500, delay:3000});
            // $('#imgSliderUl').partialViewSlider({
            //   backdrop: false,
            //   width: 100,
            //   auto: true
            // });

          },
          error: function (result) {
            console.log(result);
            // alert(result);
          },
          header: {
            'Content-Type': 'application/json',
            'X-Requested-With': 'XMLHttpRequest',
            'Cache-Control': 'no-cache,no-store',
          },
        });
      }
      function refreshChartMain(){
        // 必须同步执行
        freshChartRegistAndSubmit();
        freshChartTopScore();
        freshTableTeam();
        // 点击第一个队伍
        $("#tableTeam").children(":first").click();
      }

      // 每行数据绑定点击事件
      $('#tableTeam').on('click','li',function(){
        curSelectTeamId = $(this).find('.teamIdColumn').text();
        $("#tableTeam").children().removeClass("teamRowSelect");
        $(this).addClass("teamRowSelect");
        // $(this).css({ "border-color":"#08d9e2"});
        // 刷新轮播图
        freshImgSlider(curSelectTeamId);
        // 刷新队伍提交成绩
        freshTeamScore(curSelectTeamId);
      })

      // 默认第一主题
      $('#tabTheme1').click();
    });
  </script>

<script type="text/javascript">
    // 当前赛题每日最高成绩变化
    var myChartTopScore = echarts.init(document.getElementById('amiddboxtbott2'));
    var optionTopScore = {
      backgroundColor: 'rgba(1,202,217,.2)',
      grid: {
        left: 50,
        right: 40,
        top: 50,
        bottom: 40
      },
      title: {
        top: 5,
        left: 20,
        textStyle: {
          fontSize: 10,
          color: 'rgba(255,255,255,.6)'
        },
        // text: '性能曲线：整体分类精度' // mAP, Kappa系数, F1得分, AUC精度
      },
      toolbox: {
        show: true,
        orient: 'vertical',
        left: 'right',
        top: 'center',
        feature: {
          mark: { show: true },
          dataView: { show: true, readOnly: false },
          magicType: { show: true, type: ['line', 'bar'] },
          restore: { show: true },
          saveAsImage: { show: true }
        }
      },
      legend: {
        right: 10,
        top: 5,
        textStyle: {
          fontSize: 10,
          color: 'rgba(255,255,255,.6)'
        },
        data: ['Recall', 'Precision']
      },
      xAxis: {
        type: 'category',
        axisLine: {
          lineStyle: {
            color: 'rgba(255,255,255,.2)'
          }
        },
        splitLine: {
          lineStyle: {
            color: 'rgba(255,255,255,.1)'
          }
        },
        axisLabel: {
          color: "rgba(255,255,255,.7)"
        },
        data: [],
      },
      yAxis: {
        axisLine: {
          lineStyle: {
            color: 'rgba(255,255,255,.2)'
          }
        },
        splitLine: {
          lineStyle: {
            color: 'rgba(255,255,255,.1)'
          }
        },
        axisLabel: {
          color: "rgba(255,255,255,.7)"
        },
        scale: true
      },
      series: [
        {
          name: 'Precision',
          data: [],
          type: 'bar',
          symbolSize: function (data) {
            return Math.sqrt(data[2]) / 5e2;
          },
          label: {
            emphasis: {
              show: true,
              formatter: function (param) {
                return param.data[3];
              },
              position: 'top'
            }
          },
          itemStyle: {
            normal: {
              shadowBlur: 10,
              shadowColor: 'rgba(25, 100, 150, 0.5)',
              shadowOffsetY: 5,
              color: new echarts.graphic.RadialGradient(0.4, 0.3, 1, [{
                offset: 0,
                color: 'rgb(129, 227, 238)'
              }, {
                offset: 1,
                color: 'rgb(25, 183, 207)'
              }])
            }
          }
        }
      ]
    };
    myChartTopScore.setOption(optionTopScore);
  </script>

  <script type="text/javascript">
    // 当前赛题报名与提交量变化
    var myChartRegistAndSubmit = echarts.init(document.getElementById('amiddboxtbott1'));
    optionRegistAndSubmit = {
      backgroundColor: 'rgba(1,202,217,.2)',
      grid: {
        left: 58,
        right: 45,
        top: 50,
        bottom: 40
      },
      tooltip: {show: true},
      legend: {
        top: 10,
        textStyle: {
          fontSize: 10,
          color: 'rgba(255,255,255,.7)'
        },
        data: [ '累计报名队伍', '累计提交量', '日提交量']
      },
      xAxis: [
        {
          type: 'category',
          axisLine: {
            lineStyle: {
              color: 'rgba(255,255,255,.2)'
            }
          },
          splitLine: {
            lineStyle: {
              color: 'rgba(255,255,255,.1)'
            }
          },
          axisLabel: {
            color: "rgba(255,255,255,.7)"
          },

          data: [],
          axisPointer: {
            type: 'shadow'
          }
        }
      ],
      yAxis: [
        {
          type: 'value',
          name: '',
          min: 0,
          max: 2000,
          interval: 200,
          axisLine: {
            lineStyle: {
              color: 'rgba(255,255,255,.3)'
            }
          },
          splitLine: {
            lineStyle: {
              color: 'rgba(255,255,255,.01)'
            }
          },

          axisLabel: {
            formatter: '{value} '
          }
        },
        {
          type: 'value',
          name: '',
          max: 80,
          interval: 10,
          axisLine: {
            lineStyle: {
              color: 'rgba(255,255,255,.3)'
            }
          },
          splitLine: {
            lineStyle: {
              color: 'rgba(255,255,255,.1)'
            }
          },
          axisLabel: {
            formatter: '{value} 次'
          }
        }
      ],
      series: [
        {
          name: '累计报名队伍',
          type: 'bar',
          itemStyle: {
            normal: {
              color: new echarts.graphic.LinearGradient(
                0, 0, 0, 1,
                [
                  { offset: 0, color: '#b266ff' },
                  { offset: 1, color: '#121b87' }
                ]
              )
            }
          },
          data: []
        },
        {
          name: '累计提交量',
          type: 'bar',
          itemStyle: {
            normal: {
              color: new echarts.graphic.LinearGradient(
                0, 0, 0, 1,
                [
                  { offset: 0, color: '#00f0ff' },
                  { offset: 1, color: '#032a72' }
                ]
              )
            }
          },
          data: []
        },
        {
          name: '日提交量',
          type: 'line',
          itemStyle: {
            normal: {
              color: new echarts.graphic.LinearGradient(
                0, 0, 0, 1,
                [
                  { offset: 0, color: '#fffb34' },
                  { offset: 1, color: '#fffb34' }
                ]
              )
            }
          },
          yAxisIndex: 1,
          data: [],
          markPoint:{symbol:'emptyCircle', effect:{show:true}}
        }
      ]
    };
    myChartRegistAndSubmit.setOption(optionRegistAndSubmit);
  </script>

  <script type="text/javascript">
    // 队伍排名
    function createTeamTableRow(rankId, teamId, teamName, score, bgClass){
      return '<li class="teamRow '+bgClass +'">\n' +
        '                <table style="width: 100%">\n' +
        '                  <tr>\n' +
        '                    <th class="teamIdColumn" style="text-align: left;width: 0px;display:none;">'+teamId+'</th>\n' +
        '                    <th style="text-align: left;width: 23.3%">'+rankId+'</th>\n' +
        '                    <th style="text-align: left;width: 43.3%">'+teamName+'</th>\n' +
        '                    <th style="text-align: right;width: 33.4%">'+score+'</th>\n' +
        '                  </tr>\n' +
        '                </table>\n' +
        '              </li>';
    }

    // 图片轮播
    function buildImgUrl(imgPath){
      return 'http://119.3.202.35:8000' + imgPath;
    }
    function createImgSliderRow(imgPath, widthDiv, heightDiv){
      return '<li><img src="'+buildImgUrl(imgPath)+ '" alt="" width="'+widthDiv+'px" height="'+heightDiv+'px" ></li>';
    }
  </script>

  <script type="text/javascript">
    // 当前队伍历史提交成绩
    var myChartTeamScore = echarts.init(document.getElementById('arightboxbott'));
    optionTeamScore = {
      color: ['#7de494', '#7fd7b1', '#5578cf', '#5ebbeb', '#d16ad8', '#f8e19a', '#00b7ee', '#81dabe', '#5fc5ce'],
      backgroundColor: 'rgba(1,202,217,.2)',

      grid: {
        left: '6%',
        right: '8%',
        bottom: '7%',
        top: '8%',
        containLabel: true
      },
      xAxis: {
        type: 'category',
        boundaryGap: false,
        axisLine: {
          lineStyle: {
            color: 'rgba(255,255,255,.2)'
          }
        },
        splitLine: {
          lineStyle: {
            color: 'rgba(255,255,255,.1)'
          }
        },
        axisLabel: {
          color: "rgba(255,255,255,.7)"
        },
        data: []
      },
      yAxis: {
        type: 'value',
        axisLine: {
          lineStyle: {
            color: 'rgba(255,255,255,.2)'
          }
        },
        splitLine: {
          lineStyle: {
            color: 'rgba(255,255,255,.1)'
          }
        },
        axisLabel: {
          color: "rgba(255,255,255,.7)"
        },
      },
      series: [
        {
          name: '2019年',
          type: 'line',
          stack: '',
          areaStyle: { normal: {} },
          data: []
        }

      ]
    };
    myChartTeamScore.setOption(optionTeamScore);
  </script>

<script type="text/javascript">
  var dom = document.getElementById("mapcontainer");
  var myChart = echarts.init(dom);

  option = null;
  var geoCoordMap = {
    '北京市': [116.46, 39.92],

    孝感: [113.922355,30.930634],
    达州 : [107.474677,31.214327],
    通化 : [125.946497,41.733801],
    广安 : [106.639612,30.461669],
    莆田 : [119.014381,25.459955],
    南平 : [118.184132,26.648029],
    信阳 : [114.097345,32.153042],
    池州 : [117.498257,30.670817],
    漯河 : [114.023109,33.58769],
    南阳 : [112.53458,32.996626],

    '北京': [116.46, 39.92],
    '海门':[121.15,31.89],
    '鄂尔多斯':[109.781327,39.608266],
    '铜陵':[117.818,30.951],
    '阜阳':[115.820241,32.895111],
    '朔州':[112.439162,39.336895],
    '招远':[120.38,37.35],
    '舟山':[122.207216,29.985295],

    '石河子':[85.99,44.319],
    '黄冈':[114.878502,30.459358],
    '漳州':[117.653583,24.51895],
    '抚州':[116.364524,27.954921],
    '恩施土家族苗族自治州':[109.494571,30.277956],
    '赣州':[114.940602,25.835176],

    '晋中':[112.759516,37.692786],
    '澳门特别行政区':[113.557427,22.203906],
    '白银':[104.144623,36.550521],
    '江门':[113.088655,22.584579],
    '滁州':[118.339215,32.261256],
    '酒泉':[98.500749,39.738234],

    '齐齐哈尔':[123.97,47.33],
    '盐城':[120.13,33.38],
    '赤峰':[118.87,42.28],
    '青岛':[120.33,36.07],
    '乳山':[121.52,36.89],
    '金昌':[102.188043,38.520089],
    '泉州':[118.58,24.93],
    '莱西':[120.53,36.86],
    '日照':[119.46,35.42],
    '胶南':[119.97,35.88],
    '南通':[121.05,32.08],
    '拉萨':[91.11,29.97],
    '云浮':[112.02,22.93],
    '梅州':[116.1,24.55],
    '文登':[122.05,37.2],
    '上海':[121.48,31.22],
    '攀枝花':[101.718637,26.582347],
    '威海':[122.1,37.5],
    '承德':[117.93,40.97],
    '厦门':[118.1,24.46],
    '汕尾':[115.375279,22.786211],
    '潮州':[116.63,23.68],
    '丹东':[124.37,40.13],
    '太仓':[121.1,31.45],
    '曲靖':[103.79,25.51],
    '烟台':[121.39,37.52],
    '福州':[119.3,26.08],
    '瓦房店':[121.979603,39.627114],
    '即墨':[120.45,36.38],
    '抚顺':[123.97,41.97],
    '玉溪':[102.52,24.35],
    '张家口':[114.87,40.82],
    '阳泉':[113.57,37.85],
    '莱州':[119.942327,37.177017],
    '湖州':[120.1,30.86],
    '汕头':[116.69,23.39],
    '昆山':[120.95,31.39],
    '宁波':[121.56,29.86],
    '湛江':[110.359377,21.270708],
    '揭阳':[116.35,23.55],
    '荣成':[122.41,37.16],
    '连云港':[119.16,34.59],
    '葫芦岛':[120.836932,40.711052],
    '常熟':[120.74,31.64],
    '东莞':[113.75,23.04],
    '河源':[114.68,23.73],
    '淮安':[119.15,33.5],
    '泰州':[119.9,32.49],
    '南宁':[108.33,22.84],
    '营口':[122.18,40.65],
    '惠州':[114.4,23.09],
    '江阴':[120.26,31.91],
    '蓬莱':[120.75,37.8],
    '韶关':[113.62,24.84],
    '嘉峪关':[98.289152,39.77313],
    '广州':[113.23,23.16],
    '延安':[109.47,36.6],
    '太原':[112.53,37.87],
    '清远':[113.01,23.7],
    '中山':[113.38,22.52],
    '昆明':[102.73,25.04],
    '寿光':[118.73,36.86],
    '盘锦':[122.070714,41.119997],
    '长治':[113.08,36.18],
    '深圳':[114.07,22.62],
    '珠海':[113.52,22.3],
    '宿迁':[118.3,33.96],
    '咸阳':[108.72,34.36],
    '铜川':[109.11,35.09],
    '平度':[119.97,36.77],
    '佛山':[113.11,23.05],
    '海口':[110.35,20.02],
    '章丘':[117.53,36.72],
    '肇庆':[112.44,23.05],
    '大连':[121.62,38.92],
    '临汾':[111.5,36.08],
    '吴江':[120.63,31.16],
    '石嘴山':[106.39,39.04],
    '沈阳':[123.38,41.8],
    '苏州':[120.62,31.32],
    '茂名':[110.88,21.68],
    '嘉兴':[120.76,30.77],
    '长春':[125.35,43.88],
    '胶州':[120.03336,36.264622],
    '银川':[106.27,38.47],
    '张家港':[120.555821,31.875428],
    '三门峡':[111.19,34.76],
    '锦州':[121.15,41.13],
    '南昌':[115.89,28.68],
    '柳州':[109.4,24.33],
    '三亚':[109.511909,18.252847],
    '自贡':[104.778442,29.33903],
    '吉林':[126.57,43.87],
    '阳江':[111.95,21.85],
    '泸州':[105.39,28.91],
    '西宁':[101.74,36.56],
    '宜宾':[104.56,29.77],
    '呼和浩特':[111.65,40.82],
    '成都':[104.06,30.67],
    '大同':[113.3,40.12],
    '镇江':[119.44,32.2],
    '桂林':[110.28,25.29],
    '张家界':[110.479191,29.117096],
    '宜兴':[119.82,31.36],
    '北海':[109.12,21.49],
    '西安':[108.95,34.27],
    '金坛':[119.56,31.74],
    '东营':[118.49,37.46],
    '牡丹江':[129.58,44.6],
    '遵义':[106.9,27.7],
    '绍兴':[120.58,30.01],
    '扬州':[119.42,32.39],
    '常州':[119.95,31.79],
    '潍坊':[119.1,36.62],
    '重庆':[106.54,29.59],
    '台州':[121.420757,28.656386],
    '南京':[118.78,32.04],
    '滨州':[118.03,37.36],
    '贵阳':[106.71,26.57],
    '无锡':[120.29,31.59],
    '本溪':[123.73,41.3],
    '克拉玛依':[84.77,45.59],
    '渭南':[109.5,34.52],
    '马鞍山':[118.48,31.56],
    '宝鸡':[107.15,34.38],
    '焦作':[113.21,35.24],
    '句容':[119.16,31.95],
    '徐州':[117.2,34.26],
    '衡水':[115.72,37.72],
    '包头':[110,40.58],
    '绵阳':[104.73,31.48],
    '乌鲁木齐':[87.68,43.77],
    '枣庄':[117.57,34.86],
    '杭州':[120.19,30.26],
    '淄博':[118.05,36.78],
    '鞍山':[122.85,41.12],
    '溧阳':[119.48,31.43],
    '库尔勒':[86.06,41.68],
    '安阳':[114.35,36.1],
    '开封':[114.35,34.79],
    '济南':[117,36.65],
    '德阳':[104.37,31.13],
    '温州':[120.65,28.01],
    '九江':[115.97,29.71],
    '邯郸':[114.47,36.6],
    '临安':[119.72,30.23],
    '兰州':[103.73,36.03],
    '沧州':[116.83,38.33],
    '临沂':[118.35,35.05],
    '南充':[106.110698,30.837793],
    '天津':[117.2,39.13],
    '富阳':[119.95,30.07],
    '泰安':[117.13,36.18],
    '诸暨':[120.23,29.71],
    '郑州':[113.65,34.76],
    '哈尔滨':[126.63,45.75],
    '聊城':[115.97,36.45],
    '芜湖':[118.38,31.33],
    '唐山':[118.02,39.63],
    '平顶山':[113.29,33.75],
    '邢台':[114.48,37.05],
    '德州':[116.29,37.45],
    '济宁':[116.59,35.38],
    '荆州':[112.239741,30.335165],
    '宜昌':[111.3,30.7],
    '义乌':[120.06,29.32],
    '丽水':[119.92,28.45],
    '洛阳':[112.44,34.7],
    '秦皇岛':[119.57,39.95],
    '株洲':[113.16,27.83],
    '石家庄':[114.48,38.03],
    '莱芜':[117.67,36.19],
    '常德':[111.69,29.05],
    '保定':[115.48,38.85],
    '湘潭':[112.91,27.87],
    '金华':[119.64,29.12],
    '岳阳':[113.09,29.37],
    '长沙':[113,28.21],
    '衢州':[118.88,28.97],
    '廊坊':[116.7,39.53],
    '菏泽':[115.480656,35.23375],
    '合肥':[117.27,31.86],
    '武汉':[114.31,30.52],
    '大庆':[125.03,46.58],
    尼日利亚: [-4.388361, 11.186148],
    香港特别行政区: [114.195466, 22.282751],
    美国: [-87.801833, 41.870975],
    英国: [-1.657222, 51.886863],
    '法国':[2.213749,46.227638],
    德国: [10.01959, 54.38474],
    哈萨克斯坦: [45.326912, 41.101891],
    俄罗斯: [89.116876, 67.757906],
    巴西: [-48.678945, -10.493623],
    埃及: [31.815593, 31.418032],
    西班牙: [2.175129, 41.385064],
    柬埔寨: [104.88659, 11.545469],
    意大利: [9.189948, 45.46623],
    乌拉圭: [-56.162231, -34.901113],
    阿尔及利亚: [3.054275, 36.753027],
    阿联酋: [55.269441, 25.204514],
    匈牙利: [17.108519, 48.179162],
    澳大利亚: [144.999416, -37.781726],
    墨西哥: [-99.094092, 19.365711],
    加拿大: [-123.023921, 49.311753],
    日本: [138.25, 36.20],
  };

  var mapOrgCityTeams = {
    "data":{
      "cities":[
        {
          "team_number":394,
          "name":"北京市",
          "rankNum":1
        },
        {
          "team_number":246,
          "name":"武汉市",
          "rankNum":2
        },
        {
          "team_number":163,
          "name":"西安市",
          "rankNum":3
        },
        {
          "team_number":120,
          "name":"上海市",
          "rankNum":4
        },
        {
          "team_number":98,
          "name":"南京市",
          "rankNum":5
        },
        {
          "team_number":85,
          "name":"成都市",
          "rankNum":6
        },
        {
          "team_number":71,
          "name":"长沙市",
          "rankNum":7
        },
        {
          "team_number":63,
          "name":"深圳市",
          "rankNum":8
        },
        {
          "team_number":60,
          "name":"杭州市",
          "rankNum":9
        },
        {
          "team_number":51,
          "name":"广州市",
          "rankNum":10
        },
        {
          "team_number":44,
          "name":"天津市",
          "rankNum":11
        },
        {
          "team_number":44,
          "name":"哈尔滨市",
          "rankNum":12
        },
        {
          "team_number":37,
          "name":"青岛市",
          "rankNum":13
        },
        {
          "team_number":33,
          "name":"长春市",
          "rankNum":14
        },
        {
          "team_number":31,
          "name":"重庆市",
          "rankNum":15
        },
        {
          "team_number":27,
          "name":"合肥市",
          "rankNum":16
        },
        {
          "team_number":26,
          "name":"郑州市",
          "rankNum":17
        },
        {
          "team_number":23,
          "name":"沈阳市",
          "rankNum":18
        },
        {
          "team_number":20,
          "name":"徐州市",
          "rankNum":19
        },
        {
          "team_number":20,
          "name":"南昌市",
          "rankNum":20
        },
        {
          "team_number":19,
          "name":"济南市",
          "rankNum":21
        },
        {
          "team_number":16,
          "name":"太原市",
          "rankNum":22
        },
        {
          "team_number":13,
          "name":"大连市",
          "rankNum":23
        },
        {
          "team_number":13,
          "name":"石家庄市",
          "rankNum":24
        },
        {
          "team_number":12,
          "name":"厦门市",
          "rankNum":25
        },
        {
          "team_number":11,
          "name":"烟台市",
          "rankNum":26
        },
        {
          "team_number":9,
          "name":"福州市",
          "rankNum":27
        },
        {
          "team_number":8,
          "name":"昆明市",
          "rankNum":28
        },
        {
          "team_number":8,
          "name":"秦皇岛市",
          "rankNum":29
        },
        {
          "team_number":8,
          "name":"兰州市",
          "rankNum":30
        },
        {
          "team_number":8,
          "name":"苏州市",
          "rankNum":31
        },
        {
          "team_number":7,
          "name":"赣州市",
          "rankNum":32
        },
        {
          "team_number":7,
          "name":"南宁市",
          "rankNum":33
        },
        {
          "team_number":7,
          "name":"呼和浩特市",
          "rankNum":34
        },
        {
          "team_number":6,
          "name":"乌鲁木齐市",
          "rankNum":35
        },
        {
          "team_number":5,
          "name":"汕头市",
          "rankNum":36
        },
        {
          "team_number":5,
          "name":"湘潭市",
          "rankNum":37
        },
        {
          "team_number":5,
          "name":"无锡市",
          "rankNum":38
        },
        {
          "team_number":4,
          "name":"香港特别行政区",
          "rankNum":39
        },
        {
          "team_number":3,
          "name":"西宁市",
          "rankNum":40
        },
        {
          "team_number":3,
          "name":"唐山市",
          "rankNum":41
        },
        {
          "team_number":3,
          "name":"泉州市",
          "rankNum":42
        },
        {
          "team_number":3,
          "name":"泰安市",
          "rankNum":43
        },
        {
          "team_number":3,
          "name":"葫芦岛市",
          "rankNum":44
        },
        {
          "team_number":3,
          "name":"东莞市",
          "rankNum":45
        },
        {
          "team_number":3,
          "name":"贵阳市",
          "rankNum":46
        },
        {
          "team_number":3,
          "name":"佛山市",
          "rankNum":47
        },
        {
          "team_number":3,
          "name":"焦作市",
          "rankNum":48
        },
        {
          "team_number":3,
          "name":"保定市",
          "rankNum":49
        },
        {
          "team_number":2,
          "name":"咸阳市",
          "rankNum":50
        },
        {
          "team_number":2,
          "name":"东营市",
          "rankNum":51
        },
        {
          "team_number":2,
          "name":"淄博市",
          "rankNum":52
        },
        {
          "team_number":2,
          "name":"澳门特别行政区",
          "rankNum":53
        },
        {
          "team_number":2,
          "name":"晋中市",
          "rankNum":54
        },
        {
          "team_number":2,
          "name":"孝感市",
          "rankNum":55
        },
        {
          "team_number":2,
          "name":"银川市",
          "rankNum":56
        },
        {
          "team_number":2,
          "name":"大庆市",
          "rankNum":57
        },
        {
          "team_number":2,
          "name":"铜陵市",
          "rankNum":58
        },
        {
          "team_number":2,
          "name":"吉林市",
          "rankNum":59
        },
        {
          "team_number":2,
          "name":"桂林市",
          "rankNum":60
        },
        {
          "team_number":2,
          "name":"池州市",
          "rankNum":61
        },
        {
          "team_number":1,
          "name":"达州市",
          "rankNum":62
        },
        {
          "team_number":1,
          "name":"镇江市",
          "rankNum":63
        },
        {
          "team_number":1,
          "name":"恩施土家族苗族自治州",
          "rankNum":64
        },
        {
          "team_number":1,
          "name":"江门市",
          "rankNum":65
        },
        {
          "team_number":1,
          "name":"宣城市",
          "rankNum":66
        },
        {
          "team_number":1,
          "name":"阜阳市",
          "rankNum":67
        },
        {
          "team_number":1,
          "name":"石河子市",
          "rankNum":68
        },
        {
          "team_number":1,
          "name":"滁州市",
          "rankNum":69
        },
        {
          "team_number":1,
          "name":"莆田市",
          "rankNum":70
        },
        {
          "team_number":1,
          "name":"黄山市",
          "rankNum":71
        },
        {
          "team_number":1,
          "name":"金华市",
          "rankNum":72
        },
        {
          "team_number":1,
          "name":"抚州市",
          "rankNum":73
        },
        {
          "team_number":1,
          "name":"常德市",
          "rankNum":74
        },
        {
          "team_number":1,
          "name":"朔州市",
          "rankNum":75
        },
        {
          "team_number":1,
          "name":"绍兴市",
          "rankNum":76
        },
        {
          "team_number":1,
          "name":"上饶市",
          "rankNum":77
        },
        {
          "team_number":1,
          "name":"平顶山市",
          "rankNum":78
        },
        {
          "team_number":1,
          "name":"芜湖市",
          "rankNum":79
        },
        {
          "team_number":1,
          "name":"漯河市",
          "rankNum":80
        },
        {
          "team_number":1,
          "name":"宜昌市",
          "rankNum":81
        },
        {
          "team_number":1,
          "name":"白银市",
          "rankNum":82
        },
        {
          "team_number":1,
          "name":"白山市",
          "rankNum":83
        },
        {
          "team_number":1,
          "name":"开封市",
          "rankNum":84
        },
        {
          "team_number":1,
          "name":"信阳市",
          "rankNum":85
        },
        {
          "team_number":1,
          "name":"连云港市",
          "rankNum":86
        },
        {
          "team_number":1,
          "name":"温州市",
          "rankNum":87
        },
        {
          "team_number":1,
          "name":"韶关市",
          "rankNum":88
        },
        {
          "team_number":1,
          "name":"黄冈市",
          "rankNum":89
        },
        {
          "team_number":1,
          "name":"大同市",
          "rankNum":90
        },
        {
          "team_number":1,
          "name":"南平市",
          "rankNum":91
        },
        {
          "team_number":1,
          "name":"枣庄市",
          "rankNum":92
        },
        {
          "team_number":1,
          "name":"海口市",
          "rankNum":93
        },
        {
          "team_number":1,
          "name":"菏泽市",
          "rankNum":94
        },
        {
          "team_number":1,
          "name":"广安市",
          "rankNum":95
        },
        {
          "team_number":1,
          "name":"中山市",
          "rankNum":96
        },
        {
          "team_number":1,
          "name":"漳州市",
          "rankNum":97
        },
        {
          "team_number":1,
          "name":"酒泉市",
          "rankNum":98
        },
        {
          "team_number":1,
          "name":"南阳市",
          "rankNum":99
        },
        {
          "team_number":1,
          "name":"黄石市",
          "rankNum":100
        },
        {
          "team_number":1,
          "name":"荆州市",
          "rankNum":101
        },
        {
          "team_number":1,
          "name":"通化市",
          "rankNum":102
        },
        {
          "team_number":1,
          "name":"林芝市",
          "rankNum":103
        },
        {
          "team_number":1,
          "name":"张家口市",
          "rankNum":104
        },
        {
          "team_number":1,
          "name":"黔西南布依族苗族自治州",
          "rankNum":105
        }
      ]
    },
    "status":1,
    "message":""
  };

  var mapCityTeams = [];
  let mapCityArray = mapOrgCityTeams.data.cities;
  for (let ic = 0; ic < mapCityArray.length; ic++) {
    mapCityTeams.push({value: mapCityArray[ic].team_number, name: mapCityArray[ic].name});
  }

  var convertData = function (data) {
    var res = [];
    for (var i = 0; i < data.length; i++) {

      let tNam = data[i].name;
      let ctNam = tNam;
      const indexStr = tNam.indexOf('市');
      if (indexStr != -1){
        ctNam = tNam.substring(0, indexStr);
      }
      var geoCoord = geoCoordMap[ctNam];
      if (geoCoord) {
        res.push(geoCoord.concat(data[i].value));
      }
    }
    return res;
  };

  option = {
    backgroundColor: '#404a59',
    title: {
      // text: '全国主要城市空气质量',
      // subtext: 'data from PM25.in',
      sublink: 'http://www.pm25.in',
      left: 'center',
      textStyle: {
        color: '#fff'
      }
    },
    tooltip: {
      trigger: 'item'
    },
    legend: {
      orient: 'vertical',
      align: "left",
      top: 'bottom',
      left: 'right',
      itemWidth: 15,
      itemHeight: 6,
      data: ['NO.1892'],
      textStyle: {
        color: '#ffff'
      }
    },
    visualMap: {
      type:"piecewise",
      // min: 0,
      // max: 600,
      // splitNumber: 9,
      color: ['#d94e5d', '#eac736', '#50a3ba'],
      pieces: [
        {min: 200, max: 450 }, // 不指定 max，表示 max 为无限大（Infinity）。
        {min: 100, max: 200 },
        {min: 50,  max: 100  },
        {min: 20,  max: 50   },
        {min: 10,  max: 20   },
        {min: 5,   max: 10   },
        {min: 3,   max: 5    },
        {min: 0,   max: 3    },
        // {min: 10, max: 200, label: '10 到 200（自定义label）'},
        // {value: 123, label: '123（自定义特殊颜色）', color: 'grey'}, // 表示 value 等于 123 的情况。
        // 不指定 min，表示 min 为无限大（-Infinity）。
              ],
      itemHeight: 8,
      itemWidth: 10,
      itemGap: 5,
      textStyle: {fontSize:8,color:"#ffffff"},
      textGap: 5
    },
    visualMap: {
      type:"piecewise",
      // categories: ['CN', 'US', 'CA', 'JP', 'NL', 'IT', 'AU', 'DE', 'AE'],
      // min: 0,
      // max: 600,
      // splitNumber: 9,
      color: ['#d94e5d', '#eac736', '#50a3ba'],
      pieces: [
                {min: 200, max: 450, label: '200-400'}, // 不指定 max，表示 max 为无限大（Infinity）。
                {min: 100, max: 200, label: '100-200'},
                {min: 50,  max: 100, label: '50-100'},
                {min: 20,  max: 50 , label: '20-50'},
                {min: 10,  max: 20 , label: '10-20'},
                {min: 5,   max: 10 , label: '5-10'},
                {min: 3,   max: 5  , label: '3-5'},
                {min: 0,   max: 3  , label: '1-3'},
                // 不指定 min，表示 min 为无限大（-Infinity）。
              ],
      itemHeight: 8,
      itemWidth: 12,
      itemGap: 5,
      textStyle: {fontSize:8,color:"#ffffff"},
      textGap: 5
    },
    geo: {
      map: 'china',
      // map: 'world',
      label: {
        emphasis: {
          show: false
        }
      },
      itemStyle: {
        normal: {
          areaColor: '#323c48',
          borderColor: '#111'
        },
        emphasis: {
          areaColor: '#2a333d'
        }
      }
    },
    series: [
      {
        name: 'NO.1892',
        type: 'scatter',
        coordinateSystem: 'geo',
        data: convertData(mapCityTeams),
        symbolSize: 3,
        label: {
          normal: {
            show: false
          },
          emphasis: {
            show: false
          }
        },
        itemStyle: {
          emphasis: {
            borderColor: '#fff',
            borderWidth: 1
          }
        }
      }
    ]
  };
  if (option && typeof option === "object") {
    myChart.setOption(option, true);
  }
</script>

</body>

</html>
